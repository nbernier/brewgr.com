@using Brewgr.Web
@using Brewgr.Web.Core.Model
@model TastingNote

<style>
    .tasting-note .tasting-title { display: inline; }
    .tasting-note .btn { float: right; width: initial !important; }
    .tasting-note .tasting-notes-notes { margin-top: 10px; }
</style>

<div class="panel panel-default tasting-note">
    <div class="panel-body">
        <a class="avatar" href="@Url.UserProfileUrl(Model.User.CalculatedUsername)"><img src="@UserAvatar.GetAvatar(20, Model.User.EmailAddress)" width="20" height="20" alt="@Model.User.CalculatedUsername" /></a>
        <h4 class="tasting-title">Tasted on @Model.TasteDate.ToShortDateString() by <a href="@Url.UserProfileUrl(Model.User.CalculatedUsername)">@Model.User.CalculatedUsername</a></h4>
        <span id="star-@Model.TastingNoteId" class="rating" data-raty-rating="@Model.Rating"></span>
        @if (ViewBag.ActiveUser != null && Model.UserId == ViewBag.ActiveUser.UserId)
        {
            <a href="#" class="btn btn-danger btn-sm" data-tastingnoteid="@Model.TastingNoteId">Delete</a>
        }

        @if (!string.IsNullOrWhiteSpace(Model.Notes))
        {
            <div class="item tasting-notes-notes">
                <span class="marginbottom5 bold">Notes:</span>
                <p class="marginbottom5">
                    @Model.Notes
                </p>
            </div>
        }
    </div>
</div>
